# 未授权访问

> https://mp.weixin.qq.com/s/tN7bi0gybtNNuU_G1gyBRQ

## 场景

如有增删改功能，那么就可能存在查询功能

无法登录的平台或者空白页

需要特定条件才能使用的功能，如管理员权限、创建名称才能保存

## API 路径

**通用 API 查找**

先使用 FindSmothing 查找 API 路径

然后在 Burp 中拼接路径，使用 GET 和 POST 各跑一边

未响应的放在 Open Multiple URLs 中手动访问

最后使用浏览器的控制台检索 JS 文件中的 API 调用的关键字

```
type:"POST"
type: "GET"
post("
get("
ashx?
ashx
url:
url:"
url:'
path:
path:"
path:'
action?
data
params
```

**根据当前业务的相似功能或历史数据包查找 API**

遇到一个功能点没有找到借口，如某简历生成业务有保存，导出和上传功能

但是只找到了保存的 API `/v4/scrm/api/crowd/save` 

 那么可以尝试在 JS 文件中检索 `/v4/scrm/api/crowd` 

若没有则检索 `/scrm/api/crowd` 、`/api/crowd` 、`/crowd` 

> 检索时要加 `/` 在前没有就加在后面 `crowd/`
>
> 逐步缩小范围

找不到就猜，如检索 `/update` 、`/export` 

## 绕过

### 401

### 403

### 500

在请求包中添加

```json
{
" pageNo" : 1，
"pageSize": 10,
}
```

> 注意 GET，POST，JSON 的格式不同