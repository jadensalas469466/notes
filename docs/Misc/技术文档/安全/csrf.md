# csrf

## 描述

捕获自己账号敏感操作数据包，如：修改密码，修改邮箱，修改手机号，账号删除

在 burp 中利用这个数据包生成 csrf 链接

当使用目标账号访问 csrf 链接时，目标账户密码将被修改

## csrf_ token 绕过

1. CSRF 令牌的验证取决于请求方法

   ```
   在这种情况下，攻击者可以切换到GET方法来绕过验证并进行CSRF攻击
   ```

2. CSRF 令牌的验证取决于令牌的存在

   ```
   在这种情况下，攻击者可以删除包含令牌的整个参数（而不仅仅是其值）以绕过验证并发起 CSRF 攻击
   ```

3. CSRF 令牌不与用户会话绑定

   ```
   在这种情况下，攻击者可以使用自己的帐户登录应用程序，获取有效令牌，然后在 CSRF 攻击中将该令牌提供给受害者用户
   ```

4. ==CSRF 令牌与非会话 cookie 绑定==

   ```
   攻击者可以使用自己的帐户登录应用程序，获取有效令牌和关联的 cookie，利用 cookie 设置行为将其 cookie 放入受害者的浏览器中，并在 CSRF 攻击中将其令牌提供给受害者。
   ```

5. csrf_ token 长期不更新，可重复使用

