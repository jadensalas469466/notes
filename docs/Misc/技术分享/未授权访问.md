## 1. 场景

- 一个完整的操作页面一般有增, 删, 改, 查功能的接口; 隐藏的接口可能存在未授权
- 无法登录的平台或者空白页

- 需要特定条件才能使用的功能, 如管理员权限


## 2. API 路径

### 2.1. 通用 API 查找

先使用 FindSmothing 查找 API 路径, 保存到本地后补全 BaseURL 和 ID

然后在 Burp 中拼接路径，使用所有协议跑一遍

放在 Open Multiple URLs 中手动访问

最后使用浏览器的控制台检索 JS 文件中的可能存在 API 调用的关键字

```
type:"POST"
type: "GET"
post("
get("
ashx?
ashx
url:
url:"
url:'
path:
path:"
path:'
action?
data
params
```

### 2.2. 根据当前业务的相似功能或历史数据包查找 API

遇到一个功能点没有找到隐藏接口

如某简历生成业务有保存，导出和上传功能

但是只找到了保存的 API `/v4/scrm/api/crowd/save` 

 那么可以尝试在 JS 文件中检索 `/v4/scrm/api/crowd` 

若没有则检索 `/scrm/api/crowd` 、`/api/crowd` 、`/crowd` 

> 检索时要加 `/` 在前没有就加在后面 `crowd/`
>
> 逐步缩小范围

找不到就猜，如检索 `/update` 、`/export` 

## 3. 绕过

### 401

### 403

### 500

为相应的页面可尝试在请求体中添加

```json
{
" pageNo" : 1，
"pageSize": 10,
}
```

> 注意 GET，POST，JSON 的格式不同

---

参考链接

- [Js在漏洞挖掘中的作用-接口篇](https://mp.weixin.qq.com/s/tN7bi0gybtNNuU_G1gyBRQ)